[phases.setup]
nixPkgs = ["python311", "uv", "nodejs_20"]

[phases.install]
cmds = [
  "uv sync --no-dev --frozen",
  "npm install --prefix /opt/app/.cline @cline/cli"
]

[start]
cmd = "python run_game.py"

[variables]
# Explicitly use uv as the package manager
NIXPACKS_PYTHON_PACKAGE_MANAGER = "uv"
# Python unbuffered output for better logging
PYTHONUNBUFFERED = "1"
