# Copy this file to `.env` and adjust values as needed for local development.
#
# Quick start for AI vs AI gameplay:
#   cp .env.example .env
#   # Edit .env and set your OPENROUTER_API_KEY
#   python run_game.py
#
# The run_game.py script automatically starts the game server and both agents.

# --- Railway/Production Deployment ---
# Port for the server (Railway sets this automatically)
PORT=8000
# Admin API key for accessing logs (REQUIRED for production)
ADMIN_API_KEY=your-secure-admin-key-here
# CORS origins (comma-separated, use * for all origins)
CORS_ORIGINS=*

# --- Server defaults ---
DEFAULT_GAME_ID=demo-game
INTERACTIVE_GAME_ID=interactive-game

# --- FastMCP Configuration ---
# Enable experimental OpenAPI parser for improved performance (FastMCP v2.11+)
# Set to 'true' to use the new parser, 'false' or unset to use the default parser
# FASTMCP_EXPERIMENTAL_ENABLE_NEW_OPENAPI_PARSER=true

# --- Agent identity (duplicate this section per agent if running more than one) ---
TEAM_ID=team1
TEAM_NAME=City Watch Constables
GAME_ID=${DEFAULT_GAME_ID}
MCP_SERVER_URL=http://localhost:8000/mcp

# --- OpenRouter access (required for automated agents) ---
# The agent loader accepts either key casing; set at least one.
OPENROUTER_MODEL=openrouter/auto
OPENROUTER_API_KEY=replace-with-your-openrouter-key
openrouter_api_key=${OPENROUTER_API_KEY}
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_REFERER=https://localhost
OPENROUTER_APP_TITLE=Ankh-Morpork Scramble Agents

FASTMCP_EXPERIMENTAL_ENABLE_NEW_OPENAPI_PARSER=true

# --- Agent behaviour knobs (safe defaults shown) ---
AGENT_LOG_LEVEL=INFO
JOIN_RETRY_DELAY=3
POLL_INTERVAL=5
POST_TURN_DELAY=8
SERVER_STARTUP_TIMEOUT=60
MAX_AGENT_STEPS=12
AGENT_MEMORY_WINDOW=6

# --- Referee Commentator Configuration ---
# Enable/disable live commentary (default: true)
ENABLE_REFEREE=true
# Model for referee (default: anthropic/claude-3.5-haiku for fast, cheap commentary)
REFEREE_MODEL=anthropic/claude-3.5-haiku
# Seconds between commentary updates (default: 30)
REFEREE_COMMENTARY_INTERVAL=30
# Log level for referee (default: INFO)
REFEREE_LOG_LEVEL=INFO
# Custom referee prompt (optional - uses default Discworld-themed prompt if not set)
# REFEREE_PROMPT="Your custom referee personality here..."

# --- Demo Mode Configuration ---
# DEMO_MODE=true: Pre-configured demo game ready to play (default)
# DEMO_MODE=false: Interactive setup where agents must buy and place players
# DEMO_MODE=true

# --- Logging Configuration ---
# Directory for log files (default: logs)
LOG_DIR=logs
# API server log level (default: INFO)
APP_LOG_LEVEL=INFO
# MCP server log level (default: INFO)
MCP_LOG_LEVEL=INFO
# Maximum log file size in bytes before rotation (default: 1048576 = 1MB)
LOG_MAX_BYTES=1048576
# Number of backup log files to keep (default: 5)
LOG_BACKUP_COUNT=5
